<html>
<head>
	<script>
let quartos = new Array(20).fill(true); // Criando um array com 20 quartos disponíveis (true)
let nome;

function inicio() {
    alert("Bem-vindo ao Brooklyn Hotel");
    nome = prompt("Digite seu nome: ");
    let senha = prompt("Sua senha: ");

    if (senha != "2678") {
        alert("Senha incorreta!");
        inicio();
    } else {
        alert(`Bem-vindo ao Brooklyn Hotel, ${nome}. É um imenso prazer ter você por aqui!`);
    }

    var escolha = parseInt(prompt(
        'Selecione uma opção\n1.) Reserva de Quartos\n2.) Cadastro de Hóspedes\n3.) Abastecimento de Carros\n4.) Sair\n5.) Serviços'
    ));

    switch (escolha) {
        case 1:
            reserva_quartos();
            break;
        case 2:
            cadastro_hospedes();
            break;
        case 3:
            abastecer_carros();
            break;
        case 4:
            sair();
            break;
        case 5:
            servicos();
            break;
        default:
            inicio();
    }
}

function listar_quartos() {
    let status_quartos = "Status dos Quartos:\n";

    for (let i = 1; i <= 20; i++) {
        status_quartos += `${i} - ${quartos[i - 1] ? "Livre" : "Ocupado"}\n`;
    }

    alert(status_quartos);
}

function reserva_quartos() {
    alert("Brooklyn Hotel - RESERVA DE QUARTOS");

    listar_quartos(); // Mostra os quartos disponíveis antes da escolha

    let valor_diaria = parseFloat(prompt("Qual o valor padrão da diária? "));
    if (valor_diaria < 20) {
        alert("Valor inválido, " + nome);
        reserva_quartos();
        return;
    }

    let quant_diarias = parseFloat(prompt("Quantas diárias são necessárias? "));
    if (quant_diarias < 1) {
        alert("Valor inválido, " + nome);
        reserva_quartos();
        return;
    }

    let preco_total = quant_diarias * valor_diaria;
    alert(`O valor de ${quant_diarias} dias de hospedagem é de ${preco_total}`);

    let nome_hospede = prompt("Digite seu nome: ");

    while (true) {
        let quarto = parseInt(prompt("Qual o quarto para reserva (1 - 20)? "));
        if (quarto < 1 || quarto > 20) {
            alert("Digite um valor válido de 1 a 20");
            continue;
        }

        if (!quartos[quarto - 1]) { // Se for false, está ocupado
            alert("Quarto ocupado! Escolha outro.");
        } else {
            quartos[quarto - 1] = false; // Reserva o quarto
            alert(`Reserva feita com sucesso! Quarto ${quarto} reservado para ${nome_hospede}.`);
            inicio();
            break;
        }
    }
}

function cadastro_hospedes() {
    alert("HOTEL Brooklyn Hotel - CADASTRO DE HÓSPEDES");
    inicio();
}

function abastecer_carros() {
    alert("HOTEL Brooklyn Hotel - ABASTECER");
    inicio();
}

function sair() {
    var confirma = confirm("Você deseja sair?");
    if (confirma) {
        alert("Muito obrigado e até logo, " + nome);
        inicio();
    }
}

function servicos() {
    let escolhaServico = parseInt(prompt(
        "Escolha qual serviço você deseja:\n1 - Garçom\n2 - Meditação\n3 - Massagem\n4 - Café da Manhã, Almoço e Jantar\n5 - Faxina"
    ));

    alert(`Em alguns minutos um de nossos profissionais irá chegar em seu quarto, senhor(a) ${nome}.`);
    inicio();
}

inicio();
</script>
</head>
<body>
</body>
</html>
